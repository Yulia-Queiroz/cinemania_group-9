{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/hero.js","node_modules/@parcel/runtime-js/lib/runtime-e715b4eb3a3d502a.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-841c09e509fc24a0.js","node_modules/@parcel/runtime-js/lib/runtime-dfe22fc9d6ba2860.js","node_modules/@parcel/runtime-js/lib/runtime-b1bf8f783d39f79f.js","node_modules/@parcel/runtime-js/lib/runtime-64224ec9c80dd611.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","import defaultImg from '../images/img/img.png';\nimport axios from 'axios';\nimport Defoltimg from '../images/hero-desktop-1x.jpg';\nimport DefoltImgTablet from '../images/hero-tablet-1x.jpg';\nimport DefoltImgMobil from '../images/hero-mobile-1x.jpg';\n\nconst API_KEY = 'b0c24f4300d90d0bb33ad49b06fe89dd';\nconst trendingMoviesUrl = `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`;\nconst backdropBaseUrl = 'https://image.tmdb.org/t/p/original/';\nconst trailerBaseUrl = 'https://api.themoviedb.org/3/movie/';\nconst trailerParams = `videos?api_key=${API_KEY}&language=en-US`;\n\nconst hero = document.getElementById('hero');\nconst heroTitle = document.querySelector('.hero-title');\nconst heroRating = document.querySelector('.hero-rating');\nconst heroOverview = document.querySelector('.hero-overview');\nconst detailsBtn = document.querySelector('.hero-details-btn');\nconst trailerBtn = document.querySelector('.hero-trailer-btn');\n\nconst detailsModal = document.getElementById('detailsModal');\nconst detailsModalTitle = document.querySelector('#detailsModal .modal-title');\nconst detailsModalOverview = document.querySelector(\n  '#detailsModal .modal-overview'\n);\nconst detailsModalCloseBtn = document.querySelector(\n  '#detailsModal .modal-close-btn'\n);\n\nconst trailerModal = document.getElementById('trailerModal');\nconst trailerModalTitle = document.querySelector('#trailerModal .modal-title');\nconst trailerModalTrailer = document.querySelector(\n  '#trailerModal .modal-trailer'\n);\nconst trailerModalCloseBtn = document.querySelector(\n  '#trailerModal .modal-close-btn'\n);\nconst trailerModalContent = document.querySelector('.trailer-modal-content');\n\n//  Пошук фільму через ФЕЧ\n// async function getTrendingMovie() {\n//   try {\n//     const response = await fetch(trendingMoviesUrl);\n//     const data = await response.json();\n//     if (data.results.length > 0) {\n//       const movie = data.results[Math.floor(Math.random() * data.results.length)];\n//       displayMovieInfo(movie);\n\n//       console.log(movie);\n\n//     } else {\n//       displayDefaultHeroContent();\n//     }\n//   } catch (error) {\n//     console.error(error);\n//     displayDefaultHeroContent();\n//   }\n// }\n\n// Пошук фільму дня\nasync function getTrendingMovie() {\n  try {\n    const response = await axios.get(trendingMoviesUrl);\n    const data = response.data;\n    if (data.results.length > 0) {\n      const movie =\n        data.results[Math.floor(Math.random() * data.results.length)];\n      displayMovieInfo(movie);\n\n      // console.log(movie);\n    } else {\n      displayDefaultHeroContent();\n    }\n  } catch (error) {\n    console.error(error);\n    displayDefaultHeroContent();\n  }\n}\n\n// Відображення в герої інформації про фільм дня\n\nfunction displayMovieInfo(movie) {\n  hero.style.backgroundImage = `url(${backdropBaseUrl}${movie.backdrop_path})`;\n  heroTitle.textContent = movie.title;\n  const overviewText = movie.overview;\n\n  // Обмеження кількості слів (15) та додавання '...' в кінці\n  const maxWords = 15;\n  let limitText = overviewText.split(' ').slice(0, maxWords).join(' ');\n  if (overviewText.split(' ').length > maxWords) {\n    limitText += '...';\n  }\n  heroOverview.textContent = limitText;\n\n  detailsBtn.addEventListener('click', () => {\n    openDetailsModal(movie);\n  });\n\n  trailerBtn.addEventListener('click', () => {\n    openTrailerModal(movie.id);\n  });\n\n  // Отримання рейтингу фільму\n  const movieRating = movie.vote_average;\n\n  // Відображення рейтингу фільму\n  displayMovieRating(movieRating);\n}\n// відображення рейтингу в зірочках\nfunction displayMovieRating(rating) {\n  const roundedRating = Math.round(rating);\n  const starsElement = document.querySelector('.stars');\n  const ratingValueElement = document.querySelector('.rating-value');\n\n  let stars = '';\n  for (let i = 0; i < 5; i++) {\n    if (i < roundedRating / 2) {\n      stars += '★';\n    } else {\n      stars += '☆';\n    }\n  }\n\n  starsElement.textContent = stars;\n  ratingValueElement.textContent = `Rating: ${rating.toFixed(1)}`;\n}\n\n// Інформація в герої за замовчуванням\nfunction displayDefaultHeroContent() {\n  const windowWidth = window.innerWidth;\n  let backgroundImageURL = Defoltimg;\n\n  if (windowWidth <= 480) {\n    backgroundImageURL = DefoltImgMobil;\n  } else if (windowWidth <= 1158) {\n    backgroundImageURL = DefoltImgTablet;\n  }\n\n  hero.style.backgroundImage = `url(${backgroundImageURL})`;\n  heroTitle.textContent = 'Let’s Make Your Own Cinema';\n  heroRating.textContent = '';\n  heroOverview.textContent =\n    'Is a guide to creating a personalized movie theater experience. You\"ll need a projector, screen, and speakers. Decorate your space, choose your films, and stock up on snacks for the full experience.';\n  trailerBtn.textContent = 'Get started';\n  trailerBtn.addEventListener('click', () => {\n    window.location.href = 'catalog.html';\n  });\n  detailsBtn.style.display = 'none';\n  trailerBtn;\n}\n\n// Модальне вікно з інформацією\nfunction openDetailsModal(movie) {\n  detailsModalTitle.textContent = movie.title;\n  detailsModalOverview.textContent = movie.overview;\n  detailsModal.style.display = 'flex';\n}\n\n// Відкриття модального трейлера\nasync function openTrailerModal(movieId) {\n  trailerModalTrailer.innerHTML = '';\n\n  try {\n    const response = await fetch(\n      `${trailerBaseUrl}${movieId}/${trailerParams}`\n    );\n    const data = await response.json();\n    if (data.results.length > 0) {\n      const trailerKey = data.results[0].key;\n      const trailerIframe = document.createElement('iframe');\n      trailerIframe.width = '100%';\n      trailerIframe.height = '100%';\n      trailerIframe.src = `https://www.youtube.com/embed/${trailerKey}`;\n      trailerIframe.allowFullscreen = true;\n      trailerModalTrailer.appendChild(trailerIframe);\n\n      trailerModalCloseBtn.style.background = 'none';\n      trailerModalCloseBtn.style.outline = '1px solid orange';\n      trailerModalCloseBtn.style.color = 'orange';\n    } else {\n      trailerModalTrailer.textContent = 'Failed to load trailer.';\n      trailerModalContent.classList.remove('trailer-modal-content');\n    }\n  } catch (error) {\n    console.error(error);\n\n    trailerModalContent.classList.add('modal-trailer-defolt');\n    const popUpHTML = `\n\n      <div class=\"modal-trailer-defolt\">\n      <div class=\"modal-trailer-defolt-text\">\n      <p class=\"modal-def\">OOPS...<br>We are very sorry!<br>But we couldn't the trailer.</p>\n      </div>`;\n    trailerModalTrailer.innerHTML = popUpHTML;\n  }\n\n  trailerModal.style.display = 'flex';\n}\n\n// Закриття модального вікна\ndetailsModalCloseBtn.addEventListener('click', () => {\n  detailsModal.style.display = 'none';\n});\n\n// Закриття вікна трейлера\ntrailerModalCloseBtn.addEventListener('click', () => {\n  trailerModal.style.display = 'none';\n});\n\ngetTrendingMovie();\n","module.exports = require('./helpers/bundle-url').getBundleURL('hfX1u') + require('./helpers/bundle-manifest').resolve(\"6PmM7\");","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('hfX1u') + require('./helpers/bundle-manifest').resolve(\"6n0lh\");","module.exports = require('./helpers/bundle-url').getBundleURL('hfX1u') + require('./helpers/bundle-manifest').resolve(\"jCnoe\");","module.exports = require('./helpers/bundle-url').getBundleURL('hfX1u') + require('./helpers/bundle-manifest').resolve(\"7WV1F\");","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"hfX1u\\\":\\\"index.3e56665b.js\\\",\\\"6PmM7\\\":\\\"img.c243cc64.png\\\",\\\"6n0lh\\\":\\\"hero-desktop-1x.1b8f9577.jpg\\\",\\\"jCnoe\\\":\\\"hero-tablet-1x.c3657911.jpg\\\",\\\"7WV1F\\\":\\\"hero-mobile-1x.c6fb2550.jpg\\\"}\"));"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$bpxeT","parcelRequire","$c519d076f6352209$var$API_KEY","$c519d076f6352209$var$trendingMoviesUrl","concat","$c519d076f6352209$var$trailerBaseUrl","$c519d076f6352209$var$trailerParams","$c519d076f6352209$var$hero","document","getElementById","$c519d076f6352209$var$heroTitle","querySelector","$c519d076f6352209$var$heroRating","$c519d076f6352209$var$heroOverview","$c519d076f6352209$var$detailsBtn","$c519d076f6352209$var$trailerBtn","$c519d076f6352209$var$detailsModal","$c519d076f6352209$var$detailsModalTitle","$c519d076f6352209$var$detailsModalOverview","$c519d076f6352209$var$detailsModalCloseBtn","$c519d076f6352209$var$trailerModal","$c519d076f6352209$var$trailerModalTrailer","$c519d076f6352209$var$trailerModalCloseBtn","$c519d076f6352209$var$trailerModalContent","$c519d076f6352209$var$_getTrendingMovie","$parcel$interopDefault","$2TvXO","mark","_callee","response","data","$dIxxU","default","get","_ctx","sent","results","$c519d076f6352209$var$displayMovieInfo","Math","floor","random","$c519d076f6352209$var$displayDefaultHeroContent","console","error","t0","apply","this","arguments","movie","style","backgroundImage","backdrop_path","textContent","title","overviewText","overview","limitText","split","slice","join","addEventListener","display","$c519d076f6352209$var$openDetailsModal","movieId","$c519d076f6352209$var$_openTrailerModal","$c519d076f6352209$var$openTrailerModal","rating","roundedRating","round","starsElement","ratingValueElement","stars","toFixed","$c519d076f6352209$var$displayMovieRating","vote_average","windowWidth","window","innerWidth","backgroundImageURL","$cAUaX","$bYJ6w","$iIKNt","location","href","trailerKey","trailerIframe","innerHTML","fetch","json","key","createElement","width","height","src","allowFullscreen","appendChild","background","outline","color","classList","remove","add","$c519d076f6352209$var$getTrendingMovie","module","exports","getBundleURL","resolve","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","register","JSON","parse"],"version":3,"file":"index.3e56665b.js.map"}