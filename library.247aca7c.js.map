{"mappings":"gfAAAA,EAAA,S,iCAOA,IAGMC,EAAO,CACXC,UAAWC,SAASC,eAAe,cACnCC,YAAaF,SAASG,cAAc,iBACpCC,eAAgBJ,SAASC,eAAe,YACxCI,aAAcL,SAASC,eAAe,mBAGxCK,OAAOC,iBAAiB,oBAExB,WACE,IAAMC,EAAeC,EAbU,gBAe/B,GAAID,GAWN,SAAsBA,GA6HAE,EA1HLF,EAAaG,QAC1B,SAACD,EAAQE,G,OAASF,GAQpBG,GADsBC,EAPsBF,GAQ5CC,YACAE,EAFsBD,EAEtBC,MACAC,EAHsBF,EAGtBE,aACAC,EAJsBH,EAItBG,GACAC,EALsBJ,EAKtBI,aAIO,wCAIIC,OAHwBF,EAAG,wEAI3BE,OADAC,EAASP,GAAa,kBAMCM,OALvBJ,EAAM,4HAMoBI,OADHJ,EAAM,gDAENI,OADGE,EAAUH,GAAc,4CACJC,OAa3D,SAAkBH,GAChB,IAAMM,EAAa,omBAUbC,EAAY,onBAUZC,EAAY,o/BAedC,EAAc,GAIlB,OAFeC,KAAKC,MAAMX,IAGxB,KAAK,EACHS,EAAc,GAAuBN,OAApBG,EAAUM,OAAO,IAClC,MACF,KAAK,EACHH,EAAc,GAAcN,OAAXK,GAA+BL,OAApBG,EAAUM,OAAO,IAC7C,MACF,KAAK,EACHH,EAAc,GAAcN,OAAXI,GAA+BJ,OAApBG,EAAUM,OAAO,IAC7C,MACF,KAAK,EACHH,EAAc,GAAcN,OAAXI,GAAsBJ,OAAXK,GAA+BL,OAApBG,EAAUM,OAAO,IACxD,MACF,KAAK,EACHH,EAAc,GAAwBN,OAArBI,EAASK,OAAO,IAAyBT,OAApBG,EAAUM,OAAO,IACvD,MACF,KAAK,EACHH,EAAc,GAAwBN,OAArBI,EAASK,OAAO,IAAgBT,OAAXK,GAA+BL,OAApBG,EAAUM,OAAO,IAClE,MACF,KAAK,EACHH,EAAc,GAAwBN,OAArBI,EAASK,OAAO,IAAyBT,OAApBG,EAAUM,OAAO,IACvD,MACF,KAAK,EACHH,EAAc,GAAwBN,OAArBI,EAASK,OAAO,IAAgBT,OAAXK,GAAqBL,OAAVG,GACjD,MACF,KAAK,EACHG,EAAc,GAAwBN,OAArBI,EAASK,OAAO,IAAeT,OAAVG,GACtC,MACF,KAAK,EACHG,EAAc,GAAwBN,OAArBI,EAASK,OAAO,IAAcT,OAATK,GACtC,MACF,KAAK,GACHC,EAAc,GAAsBN,OAAnBI,EAASK,OAAO,IACjC,MACF,QACE,MAAM,IAAIC,MAAM,kBAEpB,OAAOJ,C,CA1F2BK,CAASd,GAAc,kBArB3D,IAAwBF,EACtBD,EACAE,EACAC,EACAC,EACAC,C,GAXE,IA0HFpB,EAAKC,UAAUgC,mBAAmB,YAAarB,GAFjD,IAAsBA,C,CAvIlBsB,CAAaxB,GACbV,EAAKO,aAAa4B,MAAMC,QAAU,WAC7B,CAGLpC,EAAKC,UAAUoC,UADb,6KAEFrC,EAAKO,aAAa+B,YAAc,c,KAwCpC,IAAMhB,EAAW,SAAAiB,G,MACf,GAIClB,OAHEkB,EAEG,kCAAsClB,OAAJkB,GADjC,gF,EAIHhB,EAAY,SAAAiB,G,MAAS,GAA+CnB,OAA3CmB,EAAoB,GAAqBnB,OAAlBmB,EAAMC,MAAM,EAAG,IAA9B,U,EAgGvC,IAAM9B,EAAO,SAAA+B,GACX,IACE,IAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,OAA2BG,EAAYC,KAAKC,MAAML,E,CACzD,MAAOM,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q","sources":["src/library.js"],"sourcesContent":["import './js/modal';\nimport './js/header';\nimport './js/switch-color-bkg';\nimport './js/footer';\n\n\n\nconst KEY_LOCAL_STOREG_LIBRARY = 'librariesKey';\n// let localLibrary ='';\n\nconst refs = {\n  listFilms: document.getElementById('list-films'),\n  libraryList: document.querySelector('.library-list'),\n  loadMoreButton: document.getElementById('loadMore'),\n  btnMyLabrary: document.getElementById('btn-my-labrary'),\n};\n\nwindow.addEventListener('DOMContentLoaded', createLibraryLocal);\n\nfunction createLibraryLocal() {\n  const localLibrary = load(KEY_LOCAL_STOREG_LIBRARY);\n  // console.log(localLibrary)\n  if (localLibrary) {\n    createMarkup(localLibrary);\n    refs.btnMyLabrary.style.display = \"none\";\n  } else {\n    const opsText =\n      '<li class=\"oppsText\"><p class=\"text-oops\">OOPS...</p> <p class=\"text-oops\">We are very sorry!</p> <p class=\"text-oops\"> You donâ€™t have any movies at your library.</p><li>';\n    refs.listFilms.innerHTML = opsText;\n    refs.btnMyLabrary.textContent = \"Search movie\";\n  }\n}\n\nfunction createMarkup(localLibrary) {\n  localLibrary;\n  // console.log(localLibrary);\n  const markup = localLibrary.reduce(\n    (markup, film) => markup + createFilmItem(film),\n    ''\n  );\n\n  updateMarkup(markup);\n}\n\nfunction createFilmItem({\n  poster_path,\n  title,\n  vote_average,\n  id,\n  release_date,\n  \n}) {\n  \n  return `\n  <li class=\"movies-card\" data-id=\"${id}\">\n      <img\n      class=\"movies-card-photo-labrary\"\n      src=\"${checkImg(poster_path)}\"\n      alt=\"${title}\"\n      loading=\"lazy\"\n      \n    />\n    <div class=\"movies-card-overlay\"></div>\n    <h2 class=\"movies-card-title\">${title}</h2>\n    <p class=\"movies-card-genres\"> | ${dataCheck(release_date)}</p>\n    <p class=\"movies-card-rating\">${getStars(vote_average)}</p>\n  </li>`;\n}\n\nconst checkImg = url =>\n  `${\n    !url\n      ? `https://dummyimage.com/400x600/cfcfcf/ffffff&text=OOPS...+NO+POSTER+AVAILABLE`\n      : `https://image.tmdb.org/t/p/w500${url}`\n  }`;\n\nconst dataCheck = value => `${!value ? 'Unknown' : `${value.slice(0, 4)}`}`;\n\nfunction getStars(vote_average) {\n  const emptyStar = `<svg class=\"star\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M16.875 7.3125H10.8281L9 1.6875L7.17188 7.3125H1.125L6.04688 10.6875L4.14844 16.3125L9 12.7969L13.8516 16.3125L11.9531 10.6875L16.875 7.3125Z\" stroke=\"url(#paint0_linear_405_766)\" stroke-linejoin=\"round\"/>\n    <defs>\n    <linearGradient id=\"paint0_linear_405_766\" x1=\"3.375\" y1=\"2.625\" x2=\"13.5\" y2=\"16.5\" gradientUnits=\"userSpaceOnUse\">\n    <stop stop-color=\"#F84119\"/>\n    <stop offset=\"1\" stop-color=\"#F89F19\" stop-opacity=\"0.68\"/>\n    </linearGradient>\n    </defs>\n    </svg>`;\n\n  const fullStar = `<svg class=\"star\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"rgba(248, 65, 25, 1)\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M16.875 7.3125H10.8281L9 1.6875L7.17188 7.3125H1.125L6.04688 10.6875L4.14844 16.3125L9 12.7969L13.8516 16.3125L11.9531 10.6875L16.875 7.3125Z\" stroke=\"url(#paint0_linear_405_766)\" stroke-linejoin=\"round\"/>\n    <defs>\n    <linearGradient id=\"paint0_linear_405_766\" x1=\"3.375\" y1=\"2.625\" x2=\"13.5\" y2=\"16.5\" gradientUnits=\"userSpaceOnUse\">\n    <stop stop-color=\"#F84119\"/>\n    <stop offset=\"1\" stop-color=\"#F89F19\" stop-opacity=\"0.68\"/>\n    </linearGradient>\n    </defs>\n    </svg>`;\n\n  const halfStar = `<svg class=\"star\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M16.875 7.3125H10.8281L9 1.6875L7.17188 7.3125H1.125L6.04688 10.6875L4.14844 16.3125L9 12.7969L13.8516 16.3125L11.9531 10.6875L16.875 7.3125Z\" stroke=\"url(#paint0_linear_148_6991)\" stroke-linejoin=\"round\"/>\n    <path d=\"M9 1.6875V12.7969L4.14844 16.3125L6.04688 10.6875L1.125 7.3125H7.17188L9 1.6875Z\" fill=\"url(#paint1_linear_148_6991)\"/>\n    <defs>\n    <linearGradient id=\"paint0_linear_148_6991\" x1=\"3.04877\" y1=\"2.73251\" x2=\"13.478\" y2=\"16.7124\" gradientUnits=\"userSpaceOnUse\">\n    <stop stop-color=\"#F84119\"/>\n    <stop offset=\"1\" stop-color=\"#F89F19\" stop-opacity=\"0.68\"/>\n    </linearGradient>\n    <linearGradient id=\"paint1_linear_148_6991\" x1=\"2.08688\" y1=\"2.73251\" x2=\"12.1506\" y2=\"9.47748\" gradientUnits=\"userSpaceOnUse\">\n    <stop stop-color=\"#F84119\"/>\n    <stop offset=\"1\" stop-color=\"#F89F19\" stop-opacity=\"0.68\"/>\n    </linearGradient>\n    </defs>\n    </svg>`;\n\n  let ratingStars = '';\n\n  const rating = Math.round(vote_average);\n\n  switch (rating) {\n    case 0:\n      ratingStars = `${emptyStar.repeat(5)}`;\n      break;\n    case 1:\n      ratingStars = `${halfStar}${emptyStar.repeat(4)}`;\n      break;\n    case 2:\n      ratingStars = `${fullStar}${emptyStar.repeat(4)}`;\n      break;\n    case 3:\n      ratingStars = `${fullStar}${halfStar}${emptyStar.repeat(3)}`;\n      break;\n    case 4:\n      ratingStars = `${fullStar.repeat(2)}${emptyStar.repeat(3)}`;\n      break;\n    case 5:\n      ratingStars = `${fullStar.repeat(2)}${halfStar}${emptyStar.repeat(2)}`;\n      break;\n    case 6:\n      ratingStars = `${fullStar.repeat(3)}${emptyStar.repeat(2)}`;\n      break;\n    case 7:\n      ratingStars = `${fullStar.repeat(3)}${halfStar}${emptyStar}`;\n      break;\n    case 8:\n      ratingStars = `${fullStar.repeat(4)}${emptyStar}`;\n      break;\n    case 9:\n      ratingStars = `${fullStar.repeat(4)}${halfStar}`;\n      break;\n    case 10:\n      ratingStars = `${fullStar.repeat(5)}`;\n      break;\n    default:\n      throw new Error('Invalid rating');\n  }\n  return ratingStars;\n}\n\nfunction updateMarkup(markup) {\n  // console.log(markup);\n  refs.listFilms.insertAdjacentHTML('beforeend', markup);\n}\n\n// const save = (key, value) => {\n//   try {\n//     const serializedState = JSON.stringify(value);\n//     localStorage.setItem(key, serializedState);\n//   } catch (error) {\n//     console.error('Set state error: ', error.message);\n//   }\n// };\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n"],"names":["parcelRequire","$cecbdd76f2d3d4bd$var$refs","listFilms","document","getElementById","libraryList","querySelector","loadMoreButton","btnMyLabrary","window","addEventListener","localLibrary","$cecbdd76f2d3d4bd$var$load","markup","reduce","film","poster_path","param","title","vote_average","id","release_date","concat","$cecbdd76f2d3d4bd$var$checkImg","$cecbdd76f2d3d4bd$var$dataCheck","emptyStar","fullStar","halfStar","ratingStars","Math","round","repeat","Error","$cecbdd76f2d3d4bd$var$getStars","insertAdjacentHTML","$cecbdd76f2d3d4bd$var$createMarkup","style","display","innerHTML","textContent","url","value","slice","key","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","message"],"version":3,"file":"library.247aca7c.js.map"}